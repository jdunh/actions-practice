name: jdunham-infomagnus/post_build
on:
  workflow_dispatch:
jobs:
  build:
    runs-on:
      - ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v2
    - name: run command
      shell: bash
      run: |-
        # Create generic script
        cat > my_script.sh << 'EOL'
        #!/usr/bin/python
        print("** Running my sh script")
        EOL
        # Create groovey script
        cat > my_groovy.groovy << 'EOL'
        println "** Running my groovy script"
        EOL
    - name: install groovy
      shell: bash
      run: |-
        which groovy
#         brew install groovy
#         groovy -version
#         which groovy
    - name: run script file
      shell: bash
      run: "./my_script.sh"
      if: "${{ failure() }}"
    - name: run script file
      shell: bash
      run: groovy ./my_groovy.groovy
      if: "${{ success() }}"
    - name: run groovy script
      shell: groovy {0}
      run: println "** This is my added groovy script"
      if: "${{ success() }}"
    - name: run command
      shell: python
      run: 'print("** Running python script in post build!")'
      if: "${{ success() }}"
    - uses: actions/setup-node@v2
      if: "${{ success() }}"
    - name: Run Node Command
      shell: node {0}
      run: console.log("Nooodddeee!")
      if: "${{ success() }}"
